(this.webpackJsonpcodemark=this.webpackJsonpcodemark||[]).push([[0],[,,,,,,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),c=a(1),i=a.n(c),r=a(7),s=a.n(r),o=(a(13),a(4)),u=a(2);a(14),a(15);var l=function(t){var e=t.handleInput,a=t.handleSubmit,c=t.isDisable,i=t.isSort,r=t.handleClearBtn,s=t.tag,o=t.handleSort;return Object(n.jsx)("header",{className:"header",children:Object(n.jsxs)("form",{className:"header__form",onSubmit:a,children:[Object(n.jsx)("input",{value:s,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433",className:"header__input",onChange:e}),Object(n.jsx)("button",{disable:c,type:"submit",className:"header__button header__button_submit ".concat(c&&"header__disable"),children:c?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(n.jsx)("button",{type:"button",className:"header__button header__button_reset",onClick:r,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(n.jsx)("button",{type:"button",className:"header__button header__button_unite",onClick:o,children:i?"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})})};a(16),a(17);var d=function(t){var e=t.firstImg,a=t.secondImg,c=t.alt,i=t.cardClick,r=function(){i(c)};return Object(n.jsx)("div",{className:"card",children:void 0===a?Object(n.jsx)("img",{src:e,alt:c,className:"card__image",onClick:r}):Object(n.jsxs)("div",{className:"card__wrap",children:[Object(n.jsx)("img",{src:e,alt:c,className:"card__image card__image_unite",onClick:r}),Object(n.jsx)("img",{src:a,alt:c,className:"card__image card__image_unite",onClick:r})]})})};a(18);var j=function(t){var e=t.cards,a=t.tag,c=t.cardClick,i=e.filter((function(t){return t.keyword===a}));return Object(n.jsxs)("section",{className:"sort",children:[Object(n.jsx)("h2",{className:"sort__title",children:a}),Object(n.jsx)("div",{className:"sort__wrap",children:i.map((function(t){return Object(n.jsx)(d,{firstImg:t.img[0],secondImg:t.img[1],alt:t.keyword,cardClick:c},t.keyword)}))})]})};var m=function(t){var e=t.cards,a=t.isSort,c=t.keywords,i=t.cardClick;return Object(n.jsx)("section",{className:"main",children:a?c.map((function(t){return Object(n.jsx)(j,{cards:e,tag:t,cardClick:i},t)})):Object(n.jsx)("div",{className:"main__cards ".concat(!a&&"main__cards_open"),children:e.map((function(t){return Object(n.jsx)(d,{firstImg:t.img[0],secondImg:t.img[1],alt:t.keyword,cardClick:i},t.keyword)}))})})};a(19);var b=function(t){var e=t.popupText,a=t.isVisible,c=t.onClose;return Object(n.jsxs)("div",{className:"popup ".concat(a&&"popup__visibility"),children:[Object(n.jsx)("p",{className:"popup__text",children:e}),Object(n.jsx)("button",{className:"popup__close",onClick:c,children:"\xd7"})]})},h=function(t,e){return fetch("https://api.giphy.com/v1/gifs/random?api_key=".concat(t,"&tag=").concat(e),{method:"GET",headers:{Accept:"application/json"}}).then((function(t){return t.json()}))};var f=function(){var t=i.a.useState(""),e=Object(u.a)(t,2),a=e[0],c=e[1],r=i.a.useState([]),s=Object(u.a)(r,2),d=s[0],j=s[1],f=i.a.useState([]),p=Object(u.a)(f,2),_=p[0],g=p[1],O=i.a.useState(!1),v=Object(u.a)(O,2),x=v[0],k=v[1],y=i.a.useState(!1),C=Object(u.a)(y,2),N=C[0],S=C[1],w=i.a.useState(""),I=Object(u.a)(w,2),D=I[0],T=I[1],B=i.a.useState(!1),A=Object(u.a)(B,2),F=A[0],E=A[1],G=i.a.useState([]),P=Object(u.a)(G,2),z=P[0],J=P[1],L=i.a.useState(!1),M=Object(u.a)(L,2),V=M[0],Z=M[1],q="i25iMmapAhnCyZ4sKNBzce6vrGfqI6hX",K=function(){S(!1)},X=function(){(function(t){return fetch("https://api.giphy.com/v1/gifs/random?api_key=".concat(t),{method:"GET",headers:{Accept:"application/json"}}).then((function(t){return t.json()}))})(q).then((function(t){j([].concat(Object(o.a)(d),[{keyword:"".concat(a),img:[t.data.image_url]}]))})).catch((function(){S(!0),T("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){k(!1)}))},H=function(){var t,e=a.split(", ");"delay"===a&&setTimeout(X,5e3),void 0===e[1]&&"delay"!==a&&h(q,a).then((function(t){0===t.data.length?(S(!0),T("\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")):j([].concat(Object(o.a)(d),[{keyword:"".concat(a),img:[t.data.image_url]}]))})).catch((function(){S(!0),T("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){k(!1)})),void 0!==e[1]&&"delay"!==a&&(t=e,Promise.all([h(q,t[0]),h(q,t[1])]).then((function(t){var e=Object(u.a)(t,2),n=e[0],c=e[1];j([].concat(Object(o.a)(d),[{keyword:"".concat(a),img:[n.data.image_url,c.data.image_url]}]))})).catch((function(){S(!0),T("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430")})).finally((function(){k(!1)})))};return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(l,{handleInput:function(t){c(t.target.value);Z(/[a-zA-Z](,)?/g.test(t.target.value))},handleSubmit:function(t){t.preventDefault(),!0===V?(K(),k(!0),g([].concat(Object(o.a)(_),[a])),H()):(S(!0),T("\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b"))},isDisable:x,handleClearBtn:function(t){t.preventDefault(),j([]),c(""),J([]),g([])},tag:a,handleSort:function(t){F?function(t){t.preventDefault(),J([]),E(!1)}(t):function(t){t.preventDefault();var e=_.filter((function(t,e,a){return a.indexOf(t)===e}));J(e),E(!0)}(t)},isSort:F}),Object(n.jsx)(m,{cards:d,isSort:F,keywords:z,cardClick:function(t){c(t)}}),Object(n.jsx)(b,{popupText:D,isVisible:N,onClose:K})]})},p=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,21)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;a(t),n(t),c(t),i(t),r(t)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root")),p()}],[[20,1,2]]]);
//# sourceMappingURL=main.0c3cf71a.chunk.js.map