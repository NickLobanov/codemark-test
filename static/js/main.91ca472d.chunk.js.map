{"version":3,"sources":["components/Header/Header.js","components/Card/Card.js","components/SortCard/SortCard.js","components/Main/Main.js","components/Popup/Popup.js","components/App/App.js","utils/Api.js","reportWebVitals.js","index.js"],"names":["Header","handleInput","handleSubmit","isDisable","isSort","handleClearBtn","tag","handleSort","className","onSubmit","value","placeholder","onChange","disable","type","onClick","Card","img","alt","cardClick","src","SortCard","cards","sortCards","filter","data","keyword","map","Main","keywords","Popup","popupText","isVisible","onClose","App","React","useState","setTag","card","setCard","setKeywords","disableButton","setDisableButton","popupVisible","setPopupVisible","setPopupText","setSort","uniqueTag","setUniqueTag","isValid","setValid","closePopup","getCard","key","fetch","method","headers","then","res","json","api","length","console","log","image_url","catch","finally","evt","target","preventDefault","input","regEx","test","validationInput","handleUnsort","item","pos","arr","indexOf","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.91ca472d.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css';\r\n\r\nfunction Header({ handleInput, handleSubmit, isDisable, isSort, handleClearBtn, tag, handleSort}) {\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <form className=\"header__form\" onSubmit={handleSubmit}>\r\n                <input value={tag} placeholder=\"Введите тег\" className=\"header__input\" onChange={handleInput} />\r\n                <button disable={isDisable}\r\n                    type=\"submit\"\r\n                    className={`header__button header__button_submit ${isDisable && 'header__disable'}`}>\r\n                        {!isDisable ? 'Загрузить' : 'Загрузка..'}\r\n                </button>\r\n                <button type=\"button\" className=\"header__button header__button_reset\" onClick={handleClearBtn}>Очистить</button>\r\n                <button type=\"button\" className=\"header__button header__button_unite\" onClick={handleSort}>\r\n                    {!isSort ? 'Группировать' : 'Разгруппировать'}\r\n                </button>\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './Card.css';\r\n\r\nfunction Card({ img, alt, cardClick}) {\r\n\r\n    const imgClick = () => {\r\n        cardClick(alt)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <img src={img} alt={alt} className=\"card__image\" onClick={imgClick}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport './SortCard.css';\r\nimport Card from '../Card/Card';\r\n\r\nfunction SortCard({ cards, tag, cardClick}) {\r\n\r\n    const sortCards = cards.filter(data => data.keyword === tag)\r\n\r\n    return (\r\n        <section className=\"sort\">\r\n            <h2 className=\"sort__title\">{tag}</h2>\r\n            <div className=\"sort__wrap\">\r\n                {sortCards.map(data => (\r\n                    <Card key={data.keyword}\r\n                        img={data.img}\r\n                        alt={data.keyword}\r\n                        cardClick={cardClick}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default SortCard;","import React from 'react';\r\nimport './Main.css';\r\nimport Card from '../Card/Card';\r\nimport SortCard from '../SortCard/SortCard';\r\n\r\nfunction Main({cards, isSort, keywords, cardClick}) {\r\n\r\n    return (\r\n        <section className=\"main\">\r\n            {!isSort ? \r\n                <div className={`main__cards ${!isSort && 'main__cards_open'}`}>\r\n                    {(cards.map(data => (\r\n                    <Card key={data.keyword}\r\n                    img={data.img}\r\n                    alt={data.keyword}\r\n                    cardClick={cardClick}\r\n                    />\r\n                    )))}\r\n                </div> \r\n            :\r\n            (keywords.map(data => (\r\n                <SortCard key={data}\r\n                cards={cards}\r\n                tag={data}\r\n                cardClick={cardClick}\r\n                />\r\n            )))}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport './Popup.css';\r\n\r\nfunction Popup({ popupText, isVisible, onClose }) {\r\n\r\n\r\n    return (\r\n        <div className={`popup ${isVisible && 'popup__visibility'}`}>\r\n            <p className=\"popup__text\">{popupText}</p>\r\n            <button className=\"popup__close\" onClick={onClose}>&times;</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Popup;","import React from 'react';\nimport './App.css';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Popup from '../Popup/Popup';\nimport * as api from '../../utils/Api';\n\nfunction App() {\n\n  const [tag, setTag] = React.useState('');\n  const [card, setCard] = React.useState([]);\n  const [keywords, setKeywords] = React.useState([])\n  const [disableButton, setDisableButton] = React.useState(false);\n  const [popupVisible, setPopupVisible] = React.useState(false);\n  const [popupText, setPopupText] = React.useState('');\n  const [isSort, setSort] = React.useState(false);\n  const [uniqueTag, setUniqueTag] = React.useState([]);\n  const [isValid, setValid] = React.useState(false)\n\n  //Api key\n  const key = 'i25iMmapAhnCyZ4sKNBzce6vrGfqI6hX'\n\n  const handleInput = (evt) => {\n      setTag(evt.target.value)\n  }\n\n  //Закрытие popup\n  const closePopup = () => {\n    setPopupVisible(false)\n  }\n\n  //Сортировка карточек\n  const handleSort = (evt) => {\n    evt.preventDefault()\n    const uniqueTag = keywords.filter((item, pos, arr) => arr.indexOf(item) === pos)\n    setUniqueTag(uniqueTag)\n    setSort(true)\n  }\n\n  //Разгруппировка карточек\n  const handleUnsort = (evt) => {\n    evt.preventDefault()\n    setUniqueTag([])\n    setSort(false)\n  }\n\n  //Обработчки кнопки сортировки \n  const handleSortBtn = (evt) => {\n    !isSort ? handleSort(evt) : handleUnsort(evt)\n  }\n\n  //Получение карточки\n  const getCard = () => {\n    api.getCard(key, tag)\n      .then((data) => {\n        if (data.data.length === 0) {\n          console.log('null')\n          setPopupVisible(true)\n          setPopupText('По тегу ничего не найдено')\n        } else {\n          setCard([...card, {keyword: `${tag}`, img: `${data.data.image_url}`}])\n        }\n      })\n      .catch(() => {\n        setPopupVisible(true)\n        setPopupText('Произошла http ошибка')\n      })\n      .finally(() => {\n        setDisableButton(false)\n      })\n  }\n\n  //Валидация формы\n  const validationInput = (input) => {\n    const regEx = /[a-zA-Z](\\,)?/g\n    console.log(input)\n    console.log(regEx.test(input))\n    setValid(regEx.test(input))\n  }\n\n  //Обработчик формы\n  const formSubmit = (evt) => {\n    evt.preventDefault()\n    validationInput(tag)\n    if (isValid) {\n      closePopup();\n      setDisableButton(true);\n      setKeywords([...keywords, tag]);\n      getCard();\n    } else {\n      setPopupVisible(true);\n      setPopupText('Разрешены только латинские буквы')\n    }\n  }\n\n  //Удаление карточек \n  const handleClearBtn = (evt) => {\n    evt.preventDefault();\n    setCard([]);\n    setTag('');\n    setUniqueTag([])\n    setKeywords([])\n  }\n\n  //Обработчик клика по карточке\n  const handleImgClick = (tag) => {\n    setTag(tag)\n  }\n\n  return (\n    <div className=\"app\">\n      <Header handleInput={handleInput}\n        handleSubmit={formSubmit}\n        isDisable={disableButton}\n        handleClearBtn={handleClearBtn}\n        tag={tag}\n        handleSort={handleSortBtn}\n        isSort={isSort}/>\n      <Main cards={card} isSort={isSort} keywords={uniqueTag} cardClick={handleImgClick}/>\n      <Popup popupText={popupText} isVisible={popupVisible} onClose={closePopup}/>\n    </div>\n  );\n}\n\nexport default App;\n","export const getCard = (key, tag) => {\r\n    return fetch(`https://api.giphy.com/v1/gifs/random?api_key=${key}&tag=${tag}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n        }\r\n    })\r\n    .then((res) => res.json())\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}